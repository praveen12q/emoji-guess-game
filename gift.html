<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Choose Your Gift</title>

<style>
body {
  margin: 0;
  padding: 20px;
  font-family: "Poppins", sans-serif;
  background: radial-gradient(circle at 30% 20%, #1f2b48, #0e1220);
  color: white;
  text-align: center;
}

h1 {
  margin-top: 10px;
  font-size: 26px;
  letter-spacing: .5px;
}

.sub {
  font-size: 14px;
  opacity: 0.8;
  margin-bottom: 25px;
}

/* Grid */
.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
  gap: 18px;
  max-width: 650px;
  margin: auto;
}

/* Card Base */
.card {
  background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
  border-radius: 16px;
  padding: 30px 10px;
  cursor: pointer;
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 8px 20px rgba(0,0,0,0.45);
  appearance: none;
  transition: transform .35s, background .35s;
  position: relative;

  /* IMPORTANT FIX ‚Äì content won't flip */
  transform-style: preserve-3d;
}

.card:hover {
  transform: translateY(-6px) scale(1.04);
  background: rgba(255,255,255,0.12);
}

/* Fix backside text  */
.card div {
  backface-visibility: hidden;
}

/* Flip animation */
.revealed {
  animation: flip .6s ease forwards;
}

@keyframes flip {
  0% { transform: rotateY(0); }
  100% { transform: rotateY(180deg); }
}

.revealBox {
  margin-top: 35px;
  padding: 20px;
  max-width: 400px;
  margin-left: auto;
  margin-right: auto;
  background: rgba(255,255,255,0.06);
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.15);
  display: none;
}

.giftItem {
  margin: 8px 0;
  padding: 10px;
  border-radius: 10px;
  background: rgba(255,255,255,0.08);
  font-size: 14px;
}
</style>
</head>

<body>

<h1>Pick a Mystery Card üéÅ</h1>
<div class="sub">Click any card to reveal my surprise</div>

<div class="cards">
  <div class="card" onclick="selectCard(0)"><div>‚ùì</div></div>
  <div class="card" onclick="selectCard(1)"><div>‚ùì</div></div>
  <div class="card" onclick="selectCard(2)"><div>‚ùì</div></div>
  <div class="card" onclick="selectCard(3)"><div>‚ùì</div></div>
  <div class="card" onclick="selectCard(4)"><div>‚ùì</div></div>
</div>

<div class="revealBox" id="revealBox">
  <h2>Your Selected Gift</h2>
  <div id="chosenGift" style="font-size:18px; margin:12px 0;"></div>

  <h3 style="margin-top:20px;">All Gifts</h3>
  <div id="allGifts"></div>
</div>

<script>
const gifts = [
  "‚ùå You get nothing",
  "üöó You must go on a casual date with me (your choice)",
  "üéÅ You owe me a surprise gift",
  "üëï Something a boy can wear",
  "‚ùì A secret gift just for me"
];

let locked = false;

function shuffleArray(arr) {
  return arr
    .map(value => ({ value, sort: Math.random() }))
    .sort((a, b) => a.sort - b.sort)
    .map(({ value }) => value);
}

function selectCard(selectedIndex) {
  if (locked) return;
  locked = true;

  const cards = document.querySelectorAll(".card");

  // FULL FIX ‚Äì every card gets truly random gift
  const shuffledGifts = shuffleArray(gifts);

  // Selected card‚Äôs gift
  document.getElementById("chosenGift").innerText = shuffledGifts[selectedIndex];

  // Reveal animation
  cards.forEach((card, i) => {
    card.classList.add("revealed");

    setTimeout(() => {
      card.innerHTML = `<div style='font-size:15px; padding:20px;'>${shuffledGifts[i]}</div>`;
    }, 300);
  });

  // Show All gifts list
  const list = shuffledGifts
    .map((g, i) => `<div class='giftItem'>Card ${i + 1}: ${g}</div>`)
    .join("");

  document.getElementById("allGifts").innerHTML = list;

  document.getElementById("revealBox").style.display = "block";
}
</script>

</body>
</html>
